solver:
  method: emcee
  optimise: yes
  walkers: 200
  burn: 150
  sample: 50
  threads: 24

model:
  blue:
    dispersion_filename: /data/arc/ges/synthetic-spectra/new-cache/new-blue-dispersion.memmap

    points_filename: /data/arc/ges/synthetic-spectra/new-cache/grid-points.pickle 
    flux_filename: /data/arc/ges/synthetic-spectra/new-cache/new-all-flux.memmap
 
    # Since we have specified a 'points_filename' and 'flux_filename', the 'flux_folder' and 
    # 'flux_filename_match' will be ignored, but we will leave them here so we remember where
    # the original data came from
    #flux_folder: /data/arc/ges/synthetic-spectra/GES_UVESRed580/all/
    #flux_filename_match: '[s|p](?P<teff>[0-9]+):g\+(?P<logg>[0-9.]+).+z(?P<feh>[0-9.+-]+):a(?P<alpha>[0-9.+-]+)\.GES4750\.fits'

  red:
    #points_filename: /data/arc/ges/synthetic-spectra/new-cache/grid-points.pickle
    dispersion_filename: /data/arc/ges/synthetic-spectra/new-cache/red-dispersion.memmap

    # Since we have specified the points_filename in the first aperture (blue), we don't need
    # to explicitly set it here.
    #points_filename: /data/arc/ges/synthetic-spectra/grid-points.pickle
    #flux_filename: /data/arc/ges/synthetic-spectra/new-cache/red-flux.memmap   
 
    # Since we have specified a 'points_filename' and 'flux_filename', the 'flux_folder' and 
    # 'flux_filename_match' will be ignored, but we will leave them here so we remember where
    # the original data came from
    #flux_folder: /data/arc/ges/synthetic-spectra/GES_HR21/all/
    #flux_filename_match: '[s|p](?P<teff>[0-9]+):g\+(?P<logg>[0-9.]+).+z(?P<feh>[0-9.+-]+):a(?P<alpha>[0-9.+-]+)\.GES8450\.fits' 

normalise_observed:
  blue:
    perform: true
    order: 2
  red:
    perform: true
    order: 2

doppler_shift:
  blue:
    perform: true
  red:
    perform: true

smooth_model_flux:
  blue:
    perform: true
    kernel: free
  red:
    perform: true 
    kernel: free

priors:
  # We are going to assume we know nothing about these stars a priori.
  # That means the initial guesses will be uniformly distributed random
  # guesses across the full extent of the parameter space.
  teff: uniform 
  logg: uniform 
  feh: uniform
  alpha: uniform
  # For any star, the a priori heliocentric velocity probability is a
  # Gaussian centered on 0 km/s with a dispersion around 100 km/s
  doppler_shift.blue: normal(0, 100)
  doppler_shift.red: normal(0, 100)
  # The synthetic spectra have been pre-convolved to a lower resolution,
  # but not the exact resolution of our data. This is because the exact
  # amount of smoothing can vary slightly depending on the star.
  smooth_model_flux.blue.kernel: normal(1.8, 0.25) 
  smooth_model_flux.red.kernel: normal(0.8, 0.1)

# Masks are optional. When they are present, these regions specify the
# regions to mask out. If no masks are specified, the entire spectral 
# region overlapping the model and observed spectra is used.
masks:
  red:
    - [8496, 8500]
    - [8540, 8544]
    - [8660, 8664]
